<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
  google.charts.load("current", {packages:["timeline"]});
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {

    var container = document.getElementById('mood');
    var chart = new google.visualization.Timeline(container);
    var dataTable = new google.visualization.DataTable();
    
    // NOTE: style must be the third column.
    dataTable.addColumn({ type: 'string', id: 'Category' });
    dataTable.addColumn({ type: 'string', id: 'Value' });
    dataTable.addColumn({ type: 'string', id: 'style', role: 'style'});
    dataTable.addColumn({ type: 'date', id: 'Start' });
    dataTable.addColumn({ type: 'date', id: 'End' });
    
    const GREEN = '#009900';
    const RED = '#990000';

    let rows = generateRows();

    rows.forEach(bar => {
        if (bar[1] < 0.5) {
            bar[2] = GREEN;
            bar[1] = label(bar[0], true);
        }
        else {
            bar[2] = RED;
            bar[1] = label(bar[0], false);
        }
    });

    dataTable.addRows(rows);
    chart.draw(dataTable);
  }

  function label(cat, good) {
    return "";
    // if (good) return cat == "Mood" ? "Good" : cat == "Mind" ? "Clear" : "Healthy";
    // else return cat == "Mood" ? "Not good" : cat == "Mind" ? "Confused" : "Unwell";
  }

  function generateRows() {
    
    const START = (new Date(2016, 0, 1)).getTime();
    const END = (new Date(2018, 11, 31)).getTime();

    let getDate = () => new Date(START + (Math.random() * (END - START)));
    let rv = [];

    for (let i = 0; i < 10; i++) {

      let currentDate = getDate();

      rv.push(['Mood', Math.random(), null, currentDate, currentDate]);
      rv.push(['Mind', Math.random(), null, currentDate, currentDate]);
      rv.push(['Health', Math.random(), null, currentDate, currentDate]);
    }

    return rv;
  }
</script>

<div style="text-align: center; font-size: 20px"><b>
    Mood trends for Yang Tian Wei Iskandar
</b></div>
<br/>
<div id="mood" style="height: 200px;"></div>